{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords"
		content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

    <title>{% block title %}School Management{% endblock %}</title>
	{% comment %} <link rel="preconnect" href="https://fonts.gstatic.com"> {% endcomment %}
	{% comment %} <link rel="shortcut icon" href="img/icons/icon-48x48.png" /> {% endcomment %}

	{% comment %} <link rel="canonical" href="https://demo-basic.adminkit.io/pages-sign-in.html" /> {% endcomment %}


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
    <link href="https://cdn.datatables.net/2.1.8/css/dataTables.bootstrap5.css" rel="stylesheet">
    <link media="all" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Select2 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
    {% block css %}
    {% endblock %}
</head>

<body>
	
    <div class="wrapper">
        {% block sidebar %}
        {% endblock %}

        <div class="main">
           
            <nav class="navbar navbar-expand navbar-light navbar-bg">
				<a class="sidebar-toggle js-sidebar-toggle">
					<i class="hamburger align-self-center"></i>
				</a>

				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">
							<a class="nav-link  d-none d-sm-inline-block" href="#"
								data-bs-toggle="dropdown">
								<img src="{% if profile_image_url %}{{ profile_image_url.url}}{% else %}{% static 'images/avatar.png' %}{% endif %}"
                                  class="avatar img-fluid rounded me-1" />
                                  {{ request.user.first_name }}
							</a>
					</ul>
                    <a href="{% url 'logout' %}">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out align-middle me-2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    </a>
				</div>
			</nav>
              
            {%block main_content%}
            {% endblock %}

            {% comment %} <footer class="footer">
				<div class="container-fluid">
					<div class="row text-muted">
						<div class="col-6 text-start">
							<p class="mb-0">
								<a class="text-muted" href="#"
									target="_blank"><strong>SchoolManagement</strong></a> &copy;
							</p>
						</div>
					</div>
				</div>
			</footer> {% endcomment %}

            <div class="modal fade" id="deleteConfirmationModal" tabindex="-1" aria-labelledby="deleteConfirmationModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="deleteConfirmationModalLabel">Confirm Delete</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      Are you sure you want to delete this?
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                      <a href="#" id="confirmDeleteBtn" class="btn btn-danger">Delete</a>
                    </div>
                  </div>
                </div>
            </div>

        </div>    
    </div>    

    <script type="text/javascript" src="{% static "js/app.js" %}"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.bootstrap5.js"></script>
    <!-- Select2 CDN JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    

    <script>
        new DataTable('#example');
    </script>    

    {% if messages %}
        <script>
            $(document).ready(function () {
                toastr.options = {
                    "closeButton": true,
                    "progressBar": true,
                    "positionClass": "toast-top-right",
                    "timeOut": "3000"
                };

                {% for message in messages %}
                    var messageType = "{{ message.tags }}";

                    if (messageType === 'success') {
                        toastr.success("{{ message }}", "Success");
                    } else if (messageType === 'error') {
                        toastr.error("{{ message }}", "Error");
                    } else {
                        toastr.info("{{ message }}", "Information"); 
                    }
                {% endfor %}
            });
        </script>
    {% endif %}
    
    {% block js %}
    {% endblock %}

</body>

</html>